import{h as R}from"./moment-fFIuWyvF.js";import{f as j}from"./common-k2UJY29s.js";import{V as H,_ as q}from"./VFileInput-J44p40Ry.js";import{d as A,r as h,f as G,h as K,o as a,i as o,w as e,l as n,b as l,R as k,j as r,N as x,a as _,D,F as b,n as v,V as C,e as d,O,S as P,Y as z,a1 as U,t as m,P as E,L as $,q as J,p as Q,m as W,H as X}from"./index-jhG6Atar.js";import{V as Z}from"./VTooltip-FGQorcRJ.js";import{V as F}from"./VChip-dD-QtTM7.js";import{V as ee}from"./VDataTable-DmepC8hN.js";import{V as te}from"./VContainer-Jy1yEOM6.js";import"./VSelect-IHeh5Ht7.js";import"./VCheckboxBtn-vmsxl2CO.js";import"./VPagination-rggVeuqk.js";import"./VTable-12EOef0M.js";const le={class:"d-flex justify-space-between align-start"},ae={key:1,class:"text-overline text-grey-darken-3 mx-2"},se={class:"mt-1 d-flex align-center"},ie={class:"text-center"},oe=n("h3",{class:"text-h5 text-md-h3 font-weight-bold text-primary"}," Upload Some Images ",-1),re={class:"d-flex align-center pa-3"},ne={class:"flex-fill"},de={class:"text-h6 font-weight-bold"},me={class:"text-grey"},ce={key:1,class:"view"},ue={class:"font-weight-bold"},ze=A({__name:"FileUploadPreviewPage",setup(fe){const c=h([]),f=h([]),y=h([]),M=async()=>{f.value.length=0;for(const s of c.value){const i=new FileReader;i.readAsDataURL(s);const w=new Promise((t,V)=>{i.onload=()=>{const u=new Image;u.src=i.result,u.onload=()=>{const I=u.width,L=u.height;t({name:s.name,size:j(s.size),imageSize:I+"x"+L,type:s.type,suffix:s.name.split(".").pop(),lastModifiedDate:R(s.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss"),link:i.result,previewEnabled:!0})}},i.onerror=()=>{V(i.error)}});f.value.push(await w)}},N=s=>{c.value.splice(s,1),f.value.splice(s,1)},T=()=>{c.value.length=0,f.value.length=0},p=h("grid"),Y=()=>{p.value=p.value==="grid"?"list":"grid"},B=[{title:"FileName",key:"name"},{title:"ImageSize",key:"imageSize"},{title:"Suffix",key:"suffix"},{title:"TYPE",key:"type"},{title:"FileSize",key:"size"},{title:"Created",key:"lastModifiedDate"},{title:"Preview",key:"link"},{title:"PreviewEnabled",key:"previewEnabled"}],g=h(""),S=G(()=>f.value.filter(s=>s.name.includes(g.value)||s.suffix.includes(g.value)));return(s,i)=>{const w=K("perfect-scrollbar");return a(),o(te,null,{default:e(()=>[n("div",le,[l(P,null,{default:e(()=>[l(k,{cols:"12",md:"8",lg:"7"},{default:e(()=>[l(H,{modelValue:r(c),"onUpdate:modelValue":i[0]||(i[0]=t=>x(c)?c.value=t:null),onChange:M,color:"primary",counter:"",label:"Images Upload",accept:"image/png, image/jpeg, image/bmp",multiple:"",placeholder:"Upload your images","prepend-icon":"mdi-image-multiple-outline",variant:"solo","onClick:clear":T,"show-size":1e3},{selection:e(({fileNames:t})=>[(a(!0),_(b,null,D(t,(V,u)=>(a(),_(b,null,[u<6?(a(),o(F,{key:0,color:"primary",label:"",size:"small",class:"me-2"},{default:e(()=>[d(m(V),1)]),_:2},1024)):u===6?(a(),_("span",ae," +"+m(r(c).length-2)+" File(s) ",1)):$("",!0)],64))),256))]),_:1},8,["modelValue"])]),_:1}),l(k,{cols:"12",offsetLg:"2",md:"4",lg:"3"},{default:e(()=>[n("div",se,[l(v,{class:"mx-2",icon:"",rounded:"sm",variant:"flat",color:"primary",onClick:Y},{default:e(()=>[l(Z,{activator:"parent",location:"left",text:r(p)==="list"?"Grid View":"List View"},null,8,["text"]),r(p)==="list"?(a(),o(C,{key:0},{default:e(()=>[d("mdi-view-grid ")]),_:1})):(a(),o(C,{key:1},{default:e(()=>[d("mdi-view-list")]),_:1}))]),_:1}),l(O,{modelValue:r(g),"onUpdate:modelValue":i[1]||(i[1]=t=>x(g)?g.value=t:null),variant:"solo",label:"Search","hide-details":"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])])]),_:1})]),_:1})]),l(z,{class:"my-5"}),r(f).length===0?(a(),o(U,{key:0,class:"d-flex align-center justify-center",height:"800"},{default:e(()=>[n("div",ie,[oe,l(q,{size:300})])]),_:1})):(a(),o(U,{key:1},{default:e(()=>[r(p)==="grid"?(a(),o(w,{key:0,class:"view pa-5"},{default:e(()=>[l(P,null,{default:e(()=>[(a(!0),_(b,null,D(r(S),t=>(a(),o(k,{class:"6",md:"4",lg:"3",key:t.link},{default:e(()=>[l(J,null,{default:e(()=>[l(Q,null,{default:e(()=>[l(W),l(v,{onClick:N,class:"text-primary",variant:"flat"},{default:e(()=>[l(C,{size:"30"},{default:e(()=>[d("mdi-delete")]),_:1})]),_:1})]),_:1}),l(z),l(X,null,{default:e(()=>[l(E,{height:"300",src:t.link},null,8,["src"])]),_:2},1024),l(z),n("div",re,[n("div",ne,[n("h5",de,m(t.name),1),n("h6",me,m(t.suffix)+" "+m(t.imageSize),1)]),n("div",null,[l(F,{color:"primary",class:"font-weight-bold",label:"",rounded:"sm",variant:"elevated"},{default:e(()=>[d(m(t.type),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(a(),_("div",ce,[l(ee,{modelValue:r(y),"onUpdate:modelValue":i[2]||(i[2]=t=>x(y)?y.value=t:null),headers:B,items:r(S),"item-value":"name","show-select":"","fixed-header":"",height:"700"},{"item.name":e(({item:t})=>[n("span",ue,m(t.raw.name),1)]),"item.link":e(({item:t})=>[l(E,{class:"mx-auto my-2",src:t.raw.link,height:"100",round:"sm"},null,8,["src"])]),"item.type":e(({item:t})=>[l(F,{class:"font-weight-bold",color:"primary"},{default:e(()=>[d(m(t.raw.type),1)]),_:2},1024)]),"item.previewEnabled":e(({item:t})=>[t.raw.previewEnabled?(a(),o(v,{key:0,class:"font-weight-bold",variant:"flat",color:"blue"},{default:e(()=>[d("Yes")]),_:1})):(a(),o(v,{key:1,class:"font-weight-bold",variant:"flat",color:"error"},{default:e(()=>[d("No")]),_:1}))]),_:1},8,["modelValue","items"])]))]),_:1}))]),_:1})}}});export{ze as default};
