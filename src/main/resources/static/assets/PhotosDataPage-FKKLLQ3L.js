import{V as S,a as E}from"./VDataTableServer-C8yqHssr.js";import{C as k}from"./CopyLabel-Zjam_dJG.js";import{h as v}from"./moment-fFIuWyvF.js";import{d as T,r as c,W as Y,o as p,i as V,w as r,b as a,p as q,m as z,l as t,O as I,j as o,X as L,t as i,E as R,P as w,n as U,e as C,a as B,D as N,F as A,q as M,N as j,bl as F}from"./index-5UehqYXh.js";import{V as g}from"./VChip-4-pLF36n.js";import{V as $}from"./VContainer-BCpTP6Vi.js";import"./VDataTable-_y6ecxC-.js";import"./VSelect-SuYkNkX4.js";import"./VCheckboxBtn-3B9J-9Rl.js";import"./VPagination-BIiim5gb.js";import"./VTable-wNN-DjdN.js";import"./VTooltip-cj1JSSGm.js";const W=t("span",null," Unsplash Photos",-1),G={class:"w-25"},H={class:"font-weight-bold"},K=["src"],X={class:"text-center"},Z={class:"text-center"},J={class:"pa-2"},Q=t("img",{width:"26",src:"https://img.icons8.com/fluency/48/null/down.png"},null,-1),pe=T({__name:"PhotosDataPage",setup(ee){const u=c(!0),_=c(0),n=Y({query:"cat",page:1,per_page:25}),b=[{title:"ID",key:"id"},{title:"USER",key:"user"},{title:"COLOR",key:"color"},{title:"SIZE",key:"size"},{title:"DESCRIPTION",key:"alt_description"},{title:"THUMB",key:"thumb"},{title:"DOWNLOAD",key:"download"},{title:"LIKES",key:"likes"},{title:"TAGS",key:"tags"},{title:"CREATED",key:"created_at"}],f=c([]),h=async()=>{u.value=!0;const l=await E(n);f.value=l.data.results.map(e=>({id:e.id,user:e.user,color:e.color,size:e.width+" x "+e.height,alt_description:e.alt_description,thumb:e.urls,download:e.links.download,likes:e.likes,tags:e.tags,created_at:v(e.created_at).format("YYYY/MM/DD"),created_at2:v(e.created_at).format("YYYY/MM/DD")})),_.value=l.data.total,u.value=!1},x=async s=>{n.query&&(n.page=s.page,n.per_page=s.itemsPerPage,await h())},D=s=>s>400?"red":s>200?"orange":"grey",O=s=>{const l=document.createElement("a");l.href=s.download+"&force=true",l.download=s.id+".jpg",l.click()},d=c(!1),y=c(""),P=s=>{y.value=s,d.value=!0};return(s,l)=>(p(),V($,null,{default:r(()=>[a(M,null,{default:r(()=>[a(q,{class:"font-weight-bold"},{default:r(()=>[W,a(z),t("div",G,[a(I,{modelValue:o(n).query,"onUpdate:modelValue":l[0]||(l[0]=e=>o(n).query=e),variant:"solo","prepend-inner-icon":"mdi-magnify","onClick:append":h,label:"Search","single-line":"","hide-details":"",clearable:"",density:"compact"},null,8,["modelValue"])])]),_:1}),a(L),t("div",null,[a(S,{headers:b,items:o(f),search:o(n).query,loading:o(u),"items-per-page":o(n).per_page,"items-length":o(_),"item-value":"id","onUpdate:options":x,"fixed-header":"",height:"900"},{item:r(({item:e})=>[t("tr",null,[t("td",null,i(e.id),1),t("td",H,[a(R,{size:"30",class:"mr-2"},{default:r(()=>[t("img",{src:e.user.profile_image.small,alt:"alt"},null,8,K)]),_:2},1024),a(k,{text:e.user.username},null,8,["text"])]),t("td",X,[a(g,{size:"small",color:e.color},{default:r(()=>[a(k,{text:e.color},null,8,["text"])]),_:2},1032,["color"])]),t("td",Z,i(e.size),1),t("td",null,i(e.alt_description),1),t("td",J,[a(w,{src:e.thumb.thumb,height:"100",width:"160",cover:"",class:"rounded-lg v-card--link",onClick:m=>P(e.thumb.regular)},null,8,["src","onClick"])]),t("td",null,[a(U,{variant:"flat",icon:"",onClick:m=>O(e)},{default:r(()=>[Q]),_:2},1032,["onClick"])]),t("td",null,[a(g,{size:"small",color:D(e.likes),class:"font-weight-bold"},{default:r(()=>[C(i(e.likes),1)]),_:2},1032,["color"])]),t("td",null,[(p(!0),B(A,null,N(e.tags,m=>(p(),V(g,{variant:"outlined",color:"grey",size:"small",class:"font-weight-bold mr-1"},{default:r(()=>[C(i(m.title),1)]),_:2},1024))),256))]),t("td",null,i(e.created_at),1),t("td",null,i(e.created_at2),1)])]),_:1},8,["items","search","loading","items-per-page","items-length"])])]),_:1}),a(F,{modelValue:o(d),"onUpdate:modelValue":l[2]||(l[2]=e=>j(d)?d.value=e:null),"location-strategy":"connected","scroll-strategy":"none"},{default:r(()=>[t("div",{onClick:l[1]||(l[1]=e=>d.value=!1),class:"w-screen h-screen d-flex align-center justify-center"},[a(w,{height:"80%",src:o(y)},null,8,["src"])])]),_:1},8,["modelValue"])]),_:1}))}});export{pe as default};
