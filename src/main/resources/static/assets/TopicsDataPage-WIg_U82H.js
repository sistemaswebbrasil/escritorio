import{V as b,g as C}from"./VDataTableServer-G-iTptxL.js";import{C as x}from"./CopyLabel-bBRJhIRP.js";import{h as T}from"./moment-fFIuWyvF.js";import{d as D,r as d,W as q,o as h,i as y,w as r,b as s,p as P,m as O,l as t,O as S,j as l,X as U,H as B,t as p,P as m,a as L,D as N,F as Y,e as F,q as I,N as R,bl as $}from"./index-peTGnuZv.js";import{V as j}from"./VChip-q1dYm6WX.js";import{V as M}from"./VContainer-FOX5ZXxT.js";import"./VDataTable-a8OPrQaK.js";import"./VSelect-lCOcwFFJ.js";import"./VCheckboxBtn-p360aezY.js";import"./VPagination-5eooBKLl.js";import"./VTable-2kbjg4VG.js";import"./VTooltip-AgINamvM.js";const z=t("span",null," Unsplash Topics",-1),A={class:"w-25"},E={class:"font-weight-bold"},H={class:"font-weight-bold"},W={class:"pa-2"},X={class:"d-flex align-center"},G={class:"text-center"},pe=D({__name:"TopicsDataPage",setup(J){const u=d(!0),_=d(0),o=q({query:"cat",page:1,per_page:19}),V=[{title:"ID",key:"id"},{title:"Title",key:"title"},{title:"Cover",key:"cover_photo"},{title:"Preview",key:"preview_photos"},{title:"Photos",key:"total_photos"},{title:"Description",key:"description",width:"500px"},{title:"Link",key:"links"},{title:"Publish",key:"published_at"},{title:"",key:"data-table-expand"}],g=d([]),v=async()=>{u.value=!0;const a=await C(o);g.value=a.data.map(e=>({id:e.id,title:e.title,description:e.description,total_photos:e.total_photos,cover_photo:e.cover_photo,preview_photos:e.preview_photos,links:e.links,published_at:T(e.published_at).format("YYYY/MM/DD")})),_.value=a.data.length,u.value=!1},w=async i=>{o.query&&(o.per_page=i.itemsPerPage,o.page=i.page,await v())},n=d(!1),f=d(""),k=i=>{f.value=i,n.value=!0};return(i,a)=>(h(),y(M,null,{default:r(()=>[s(I,null,{default:r(()=>[s(P,{class:"font-weight-bold"},{default:r(()=>[z,s(O),t("div",A,[s(S,{modelValue:l(o).query,"onUpdate:modelValue":a[0]||(a[0]=e=>l(o).query=e),variant:"solo","prepend-inner-icon":"mdi-magnify","onClick:append":v,label:"Search","single-line":"","hide-details":"",clearable:"",density:"compact"},null,8,["modelValue"])])]),_:1}),s(U),s(B,null,{default:r(()=>[s(b,{headers:V,items:l(g),search:l(o).query,loading:l(u),"items-per-page":l(o).per_page,"items-length":l(_),"item-value":"id","onUpdate:options":w,"fixed-header":"",height:"900"},{item:r(({item:e})=>[t("tr",null,[t("td",E,"#"+p(e.id),1),t("td",H,p(e.title),1),t("td",W,[s(m,{src:e.cover_photo.urls.thumb,height:"100",width:"160",cover:"",class:"rounded-lg v-card--link",onClick:c=>k(e.cover_photo.urls.regular)},null,8,["src","onClick"])]),t("td",null,[t("div",X,[(h(!0),L(Y,null,N(e.preview_photos,c=>(h(),y(m,{key:c.id,src:c.urls.thumb,height:"100",width:"60",cover:"",class:"mr-2 rounded-lg v-card--link",onClick:K=>k(c.urls.regular)},null,8,["src","onClick"]))),128))])]),t("td",G,[s(j,{size:"small"},{default:r(()=>[F(p(e.total_photos),1)]),_:2},1024)]),t("td",null,p(e.description),1),t("td",null,[s(x,{text:e.links.html},null,8,["text"])]),t("td",null,p(e.published_at),1)])]),_:1},8,["items","search","loading","items-per-page","items-length"])]),_:1})]),_:1}),s($,{modelValue:l(n),"onUpdate:modelValue":a[2]||(a[2]=e=>R(n)?n.value=e:null),"location-strategy":"connected","scroll-strategy":"none"},{default:r(()=>[t("div",{onClick:a[1]||(a[1]=e=>n.value=!1),class:"w-screen h-screen d-flex align-center justify-center"},[s(m,{height:"80%",src:l(f)},null,8,["src"])])]),_:1},8,["modelValue"])]),_:1}))}});export{pe as default};
