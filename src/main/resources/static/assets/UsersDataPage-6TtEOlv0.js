import{V as k,s as V}from"./VDataTableServer-kf7ooIB3.js";import{C as v}from"./CopyLabel-fOEtTHiH.js";import{d as b,r as c,X as x,o as w,i as C,w as o,b as a,p as U,m as q,l as t,O as N,j as r,Y as T,H as z,E as A,t as l,e as _,V as D,q as S}from"./index-v-Xdsu0i.js";import{V as u}from"./VChip-EEWArvvJ.js";import{V as B}from"./VContainer-Uh9yoGuz.js";import"./VDataTable-LDqPbR3j.js";import"./VSelect-R2OtGCin.js";import"./VCheckboxBtn-h27WrtSR.js";import"./VPagination-hXpDVTXn.js";import"./VTable-zudVvO8W.js";import"./VTooltip-wvsNf8On.js";const H=t("span",null," Unsplash Users",-1),L={class:"w-25"},O={class:""},P={class:"font-weight-bold text-body-2"},R=["src"],j={class:"text-center"},E={class:"text-center"},F=["href"],te=b({__name:"UsersDataPage",setup(I){const d=c(!0),f=c(0),s=x({query:"cat",page:1,per_page:25}),g=c([{title:"用户名",key:"username"},{title:"头像",key:"avatar"},{title:"用户id",key:"id"},{title:"全名",key:"name"},{title:"位置",key:"location",width:"200px"},{title:"是否可用",key:"for_hire"},{title:"收藏数",key:"total_collections"},{title:"喜欢数",key:"total_likes"},{title:"照片数",key:"total_photos"},{title:"接受条款",key:"accepted_tos"},{title:"作品集",key:"portfolio_url"}]),p=c([]),h=async()=>{d.value=!0;const n=await V(s);p.value=n.data.results.map(e=>({id:e.id,avatar:e.profile_image.small,username:e.username,name:e.name,location:e.location,for_hire:e.for_hire,total_collections:e.total_collections,total_likes:e.total_likes,total_photos:e.total_photos,accepted_tos:e.accepted_tos,portfolio_url:e.portfolio_url})),console.log(p.value),f.value=n.data.total,d.value=!1},m=async i=>{s.query&&(s.per_page=i.itemsPerPage,s.page=i.page,await h())},y=i=>i>400?"red":i>200?"orange":"grey";return(i,n)=>(w(),C(B,null,{default:o(()=>[a(S,null,{default:o(()=>[a(U,{class:"font-weight-bold"},{default:o(()=>[H,a(q),t("div",L,[a(N,{modelValue:r(s).query,"onUpdate:modelValue":n[0]||(n[0]=e=>r(s).query=e),variant:"solo","prepend-inner-icon":"mdi-magnify","onClick:append":h,label:"Search","single-line":"","hide-details":"",clearable:"",density:"compact"},null,8,["modelValue"])])]),_:1}),a(T),a(z,{class:"pa-0"},{default:o(()=>[a(k,{headers:r(g),items:r(p),search:r(s).query,loading:r(d),"items-per-page":r(s).per_page,"items-length":r(f),"item-value":"id","onUpdate:options":m,"fixed-header":"",height:"900"},{item:o(({item:e})=>[t("tr",O,[t("td",P,[a(v,{text:e==null?void 0:e.username},null,8,["text"])]),t("td",null,[a(A,{size:"30"},{default:o(()=>[t("img",{src:e.avatar,alt:"alt"},null,8,R)]),_:2},1024)]),t("td",null,l(e.id),1),t("td",null,l(e.name),1),t("td",null,l(e.location),1),t("td",j,[a(u,{size:"small",color:e.for_hire?"blue":"grey",class:"font-weight-bold"},{default:o(()=>[_(l(e.for_hire?"Hire":"No Hire"),1)]),_:2},1032,["color"])]),t("td",null,l(e.total_collections),1),t("td",null,[a(u,{size:"small",color:y(e.total_likes),class:"font-weight-bold"},{default:o(()=>[_(l(e.total_likes),1)]),_:2},1032,["color"])]),t("td",null,l(e.total_photos),1),t("td",E,[a(u,{size:"small",color:e.accepted_tos?"green":"pink",class:"font-weight-bold"},{default:o(()=>[a(D,{start:"",icon:e.accepted_tos?"mdi-security ":"mdi-close-octagon"},null,8,["icon"]),_(" "+l(e.accepted_tos?"Accepted":"Not Accepted"),1)]),_:2},1032,["color"])]),t("td",null,[t("a",{href:e.portfolio_url,target:"_blank"},l(e.portfolio_url),9,F)])])]),_:1},8,["headers","items","search","loading","items-per-page","items-length"])]),_:1})]),_:1})]),_:1}))}});export{te as default};
